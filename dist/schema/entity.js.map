{"version":3,"sources":["schema/entity.js"],"names":[],"mappings":";;;;;;;;;QA8BgB;;;;;;;;;;;;;;IAvBH;;;;;;AAKX,WALW,YAKX,OAAyC;QAA3B,6BAA2B;QAAf,eAAe;QAAV,qBAAU;;0BAL9B,cAK8B;;AACvC,SAAK,UAAL,GAAkB,UAAlB,CADuC;AAEvC,SAAK,GAAL,GAAW,GAAX,CAFuC;AAGvC,SAAK,MAAL,GAAc,MAAd,CAHuC;GAAzC;;;;;;;eALW;;wBAcM;AACf,aAAO,6BAAe,KAAK,MAAL,CAAtB,CADe;;;;SAdN;;;;;;;;AAuBN,SAAS,MAAT,QAAuD;MAArC,8BAAqC;MAAzB,gBAAyB;2BAApB,OAAoB;MAApB,sCAAO,yBAAa;;;AAE5D,SAAO,UAAU,MAAV,EAAmB;;AAExB,mBAAO,GAAP,CAAW,MAAX,EAAmB,eAAnB,CAAoC,IAAI,YAAJ,CAAiB;AACnD,kBAAY,UAAZ;AACA,WAAK,GAAL;AACA,cAAQ,wBAAc,MAAd,CAAR;KAHkC,CAApC,EAFwB;GAAnB,CAFqD;CAAvD","file":"schema/entity.js","sourcesContent":["import {Schema} from \"./schema\";\nimport {getPrototype} from \"./util\";\nimport {getProperties} from \"./property\";\n\n/**\n* Class for entity shcema\n*/\nexport class EntitySchema {\n\n  /**\n  * Constructor\n  */\n  constructor({ collection, key, target }) {\n    this.collection = collection;\n    this.key = key;\n    this.target = target;\n  }\n\n  /**\n  * Get the properties\n  */\n  get properties() {\n    return getProperties( this.target );\n  }\n\n}\n\n/**\n* Property decorator, adds metadata about this property\n*/\nexport function entity({ collection, key, schema=\"default\" }) {\n\n  return function( target ) {\n\n    Schema.get(schema).setEntitySchema( new EntitySchema({\n      collection: collection,\n      key: key,\n      target: getPrototype( target )\n    }));\n\n  };\n\n}\n"],"sourceRoot":"/source/"}